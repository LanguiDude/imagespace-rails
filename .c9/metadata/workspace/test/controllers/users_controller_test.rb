{"filter":false,"title":"users_controller_test.rb","tooltip":"/test/controllers/users_controller_test.rb","undoManager":{"mark":31,"position":31,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":21}},"text":"require 'test_helper'"},{"action":"insertText","range":{"start":{"row":0,"column":21},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":24,"column":0}},"lines":["","class UsersControllerTest < ActionController::TestCase","","  def setup","    @user = users(:michael)","  end","","  test \"should get new\" do","    get :new","    assert_response :success","  end","","  test \"should redirect edit when not logged in\" do","    get :edit, id: @user","    assert_not flash.empty?","    assert_redirected_to login_url","  end","","  test \"should redirect update when not logged in\" do","    patch :update, id: @user, user: { name: @user.name, email: @user.email }","    assert_not flash.empty?","    assert_redirected_to login_url","  end"]},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":27},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":4},"end":{"row":6,"column":32}},"text":"@other_user = users(:archer)"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":5},"end":{"row":25,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":2},"end":{"row":26,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":2},"end":{"row":26,"column":63}},"text":"  test \"should redirect edit when logged in as wrong user\" do"},{"action":"insertText","range":{"start":{"row":26,"column":63},"end":{"row":27,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":27,"column":0},"end":{"row":38,"column":0}},"lines":["    log_in_as(@other_user)","    get :edit, id: @user","    assert flash.empty?","    assert_redirected_to root_url","  end","","  test \"should redirect update when logged in as wrong user\" do","    log_in_as(@other_user)","    patch :update, id: @user, user: { name: @user.name, email: @user.email }","    assert flash.empty?","    assert_redirected_to root_url"]},{"action":"insertText","range":{"start":{"row":38,"column":0},"end":{"row":38,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":2},"end":{"row":26,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":5},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":2},"end":{"row":9,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":2},"end":{"row":9,"column":54}},"text":"  test \"should redirect index when not logged in\" do"},{"action":"insertText","range":{"start":{"row":9,"column":54},"end":{"row":10,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":10,"column":0},"end":{"row":12,"column":0}},"lines":["    get :index","    assert_redirected_to login_url"]},{"action":"insertText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":2},"end":{"row":9,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"@"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":","}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":38},"end":{"row":40,"column":39}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":38},"end":{"row":26,"column":56}},"text":"name: @user.name, "}]}]]},"ace":{"folds":[],"scrolltop":120,"scrollleft":0,"selection":{"start":{"row":27,"column":11},"end":{"row":27,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1415465300942,"hash":"fece3054777944e2f23f937833e952708954957c"}