{"filter":false,"title":"users_controller_test.rb","tooltip":"/test/controllers/users_controller_test.rb","undoManager":{"mark":12,"position":12,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":21}},"text":"require 'test_helper'"},{"action":"insertText","range":{"start":{"row":0,"column":21},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":24,"column":0}},"lines":["","class UsersControllerTest < ActionController::TestCase","","  def setup","    @user = users(:michael)","  end","","  test \"should get new\" do","    get :new","    assert_response :success","  end","","  test \"should redirect edit when not logged in\" do","    get :edit, id: @user","    assert_not flash.empty?","    assert_redirected_to login_url","  end","","  test \"should redirect update when not logged in\" do","    patch :update, id: @user, user: { name: @user.name, email: @user.email }","    assert_not flash.empty?","    assert_redirected_to login_url","  end"]},{"action":"insertText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":3}},"text":"end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":27},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":4},"end":{"row":6,"column":32}},"text":"@other_user = users(:archer)"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":5},"end":{"row":25,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":2},"end":{"row":26,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":2},"end":{"row":26,"column":63}},"text":"  test \"should redirect edit when logged in as wrong user\" do"},{"action":"insertText","range":{"start":{"row":26,"column":63},"end":{"row":27,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":27,"column":0},"end":{"row":38,"column":0}},"lines":["    log_in_as(@other_user)","    get :edit, id: @user","    assert flash.empty?","    assert_redirected_to root_url","  end","","  test \"should redirect update when logged in as wrong user\" do","    log_in_as(@other_user)","    patch :update, id: @user, user: { name: @user.name, email: @user.email }","    assert flash.empty?","    assert_redirected_to root_url"]},{"action":"insertText","range":{"start":{"row":38,"column":0},"end":{"row":38,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":2},"end":{"row":26,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":5},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":2},"end":{"row":9,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":2},"end":{"row":9,"column":54}},"text":"  test \"should redirect index when not logged in\" do"},{"action":"insertText","range":{"start":{"row":9,"column":54},"end":{"row":10,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":10,"column":0},"end":{"row":12,"column":0}},"lines":["    get :index","    assert_redirected_to login_url"]},{"action":"insertText","range":{"start":{"row":12,"column":0},"end":{"row":12,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":2},"end":{"row":9,"column":4}},"text":"  "}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":9,"column":2},"end":{"row":9,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1415464632304,"hash":"363385ae05010d26ba5d3da83a44c8e8c26a2753"}